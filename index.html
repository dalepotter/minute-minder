<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Countdown Timer</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 2em;
      background-color: #f4f4f4;
    }

    #timer {
      font-size: 4em;
      margin: 1em 0;
    }

    button,
    input[type="number"] {
      margin: 0.5em;
      padding: 0.5em 1em;
      font-size: 1em;
    }

    .preset-buttons button {
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .control-buttons button {
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .reset-button {
      background-color: #dc3545;
    }
  </style>
</head>

<body>

  <h1>Countdown Timer</h1>

  <div id="timer">00:00</div>

  <div class="preset-buttons">
    <button onclick="setTimer(20)">20 min</button>
    <button onclick="setTimer(3)">3 min</button>
    <button onclick="setTimer(1)">1 min</button>
  </div>

  <div>
    <input type="number" id="customMinutes" placeholder="Minutes" min="1" />
    <button onclick="setCustomTime()">Set Custom Time</button>
  </div>

  <div class="control-buttons">
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="resetTimer()" class="reset-button">Reset</button>
  </div>

  <script>
    let timerDisplay = document.getElementById('timer');
    let totalSeconds = 0;
    let interval = null;

    function updateDisplay() {
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      timerDisplay.textContent =
        `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    function setTimer(minutes) {
      clearInterval(interval);
      totalSeconds = minutes * 60;
      updateDisplay();
    }

    function setCustomTime() {
      const minutes = parseInt(document.getElementById('customMinutes').value);
      if (!isNaN(minutes) && minutes > 0) {
        setTimer(minutes);
      }
    }

    function startTimer() {
      if (totalSeconds <= 0 || interval) return;
      interval = setInterval(() => {
        if (totalSeconds <= 0) {
          clearInterval(interval);
          interval = null;
          updateDisplay();
          playBeep();
          alert("Time's up!");
        } else {
          totalSeconds--;
          updateDisplay();
        }
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(interval);
      interval = null;
    }

    function resetTimer() {
      clearInterval(interval);
      interval = null;
      totalSeconds = 0;
      updateDisplay();
    }

    function playBeep() {
      const ctx = new(window.AudioContext || window.webkitAudioContext)();
      const oscillator = ctx.createOscillator();
      const gainNode = ctx.createGain();

      oscillator.type = 'sine';
      oscillator.frequency.setValueAtTime(880, ctx.currentTime); // High pitch
      gainNode.gain.setValueAtTime(0.1, ctx.currentTime); // Low volume

      oscillator.connect(gainNode);
      gainNode.connect(ctx.destination);

      oscillator.start();
      oscillator.stop(ctx.currentTime + 1); // Beep for 1 second
    }

    updateDisplay(); // Initialize display
  </script>

</body>

</html>
